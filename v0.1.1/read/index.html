<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Read · VfldFiles</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-28HZH6GXHN"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-28HZH6GXHN', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../install/">VfldFiles</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../install/">Install</a></li><li class="is-active"><a class="tocitem" href>Read</a><ul class="internal"><li><a class="tocitem" href="#Single-file"><span>Single file</span></a></li><li><a class="tocitem" href="#Multiple-files"><span>Multiple files</span></a></li></ul></li><li><a class="tocitem" href="../innerjoin/">Inner joins</a></li><li><a class="tocitem" href="../vcat/">Concatenation</a></li><li><a class="tocitem" href="../multithreading/">Multi threading</a></li><li><a class="tocitem" href="../distributed/">Distributed</a></li><li><a class="tocitem" href="../tarballs/">Reading compressed tar balls from <code>archive/extract</code></a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Read</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Read</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Hirlam/VfldFiles.jl/blob/main/docs/src/read.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Read"><a class="docs-heading-anchor" href="#Read">Read</a><a id="Read-1"></a><a class="docs-heading-anchor-permalink" href="#Read" title="Permalink"></a></h1><h2 id="Single-file"><a class="docs-heading-anchor" href="#Single-file">Single file</a><a id="Single-file-1"></a><a class="docs-heading-anchor-permalink" href="#Single-file" title="Permalink"></a></h2><p>To read a single vobs or  vfld file (<code>MEPS_prod</code> is a directory with test data exported by VfldFiles)</p><pre><code class="language-julia hljs">julia&gt; file = joinpath(MEPS_prod,&quot;vfldMEPS_prodmbr000201902170000&quot;)</code></pre><pre><code class="language-julia hljs">julia&gt; df = read_v(file)</code></pre><pre><code class="nohighlight hljs">1203×23 DataFrame
  Row │ validtime            leadtime  basetime             mbr     exp        ID     LAT      LON      FI       NN       DD          FF       TT       RH       PSS       PS        QQ         VI         LC       TD       TX       TN       GX      
      │ DateTime             Hour      DateTime             String  String     Int64  Float64  Float64  Float64  Float64  Float64     Float64  Float64  Float64  Float64   Float64   Float64    Float64    Float64  Float64  Float64  Float64  Float64 
──────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
    1 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1001   70.933   -8.667     36.4      8.0  240.917      4.2169  268.018  86.3429  1004.8    1009.4    0.0022307  26631.6        8.0  266.099  268.018  268.018   5.6646
    2 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1010   69.307   16.131      4.1      0.0  338.16      11.9022  274.892  59.2889  1003.8    1004.2    0.002547   50000.0        0.0  267.822  274.892  274.892  16.1442
    3 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1014   69.234   17.903     29.1      8.0  320.983      4.994   272.582  80.0037   999.302  1002.5    0.002922   25508.6        8.0  269.571  272.582  272.582   7.8125
    4 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1015   69.601   17.837      2.6      8.0  345.419     11.2599  275.046  62.8254  1002.4    1002.3    0.0027333  50000.0        8.0  268.728  275.046  275.046  14.2696
    5 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1018   69.241   16.003    151.9      6.0  333.965      9.0905  272.876  67.5597   986.023  1004.5    0.0025544  37548.3        3.0  267.623  272.876  272.876  15.9095
    6 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1021   69.986   18.687     16.4      8.0    0.795415   7.4803  273.755  68.8485  1000.4    1001.5    0.0027337  48743.6        8.0  268.702  273.755  273.755   9.3063
    7 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1022   70.0     18.705     39.5      8.0    1.2026     6.7692  273.36   70.2676   998.297  1001.5    0.0027176  35463.9        8.0  268.599  273.36   273.36    9.9478
    8 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1023   69.059   18.54      69.1      8.0  320.234      6.4241  272.219  81.8536   989.452  1002.2    0.0029389  24650.7        8.0  269.522  272.219  272.219  10.2541
    9 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1025   69.677   18.913      8.1      8.0  341.834      5.2363  272.42   85.9703   999.075  1001.5    0.0031024   6280.3        8.0  270.367  272.42   272.42    7.6994
   10 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1026   69.654   18.937      5.2      8.0  348.836      4.7446  272.369  87.3452   997.18   1001.5    0.0031451   7052.3        8.0  270.524  272.369  272.369   7.5031
   11 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod   1027   69.652   18.906      5.2      8.0  346.844      5.3174  272.801  84.9639  1000.3    1001.6    0.0031489   7052.3        8.0  270.582  272.801  272.801   7.5031
  ⋮   │          ⋮              ⋮               ⋮             ⋮         ⋮        ⋮       ⋮        ⋮        ⋮        ⋮         ⋮          ⋮        ⋮        ⋮        ⋮         ⋮          ⋮          ⋮         ⋮        ⋮        ⋮        ⋮        ⋮
 1194 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  26941   53.132   25.972    186.2      3.0  249.056      3.3377  273.969  86.9213   996.189  1019.7    0.0035225   8782.4        0.0  272.048  273.969  273.969   6.2054
 1195 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  26951   53.053   27.552    153.7      0.0  254.325      4.6482  274.095  90.4929   999.719  1019.1    0.0036875   7309.7        0.0  272.719  274.095  274.095   8.1647
 1196 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  26961   53.209   29.127    154.7      0.0  254.922      4.7074  273.799  94.983    998.132  1017.7    0.0037966   4148.8        0.0  273.097  273.799  273.799   8.4064
 1197 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  26966   52.894   30.044    130.9      1.0  251.297      4.1394  273.846  96.0371  1001.2    1017.9    0.0038397   3103.7        1.0  273.292  273.846  273.846   6.9473
 1198 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  26976   53.017   31.6      135.8      0.0  250.841      4.5674  273.194  94.5566   999.02   1016.2    0.0036127   5224.7        0.0  272.426  273.194  273.194   8.2593
 1199 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  27008   59.404   35.911    143.6      8.0  275.915      4.7108  273.515  86.9089   976.234   993.917  0.0034769  11407.5        8.0  271.592  273.515  273.515   9.6426
 1200 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  33038   52.252   29.841    132.5      4.0  254.475      4.2071  274.207  97.6447  1002.8    1019.5    0.0039999   2279.5        4.0  273.877  274.207  274.207   6.9188
 1201 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  33041   52.402   30.963    121.5      2.0  251.701      3.4819  273.546  97.0925  1003.2    1018.5    0.0037894   2473.9        2.0  273.137  273.546  273.546   5.8978
 1202 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  99020   71.5     19.0       -0.8      7.0   11.1145    14.3435  273.216  64.1949  1003.1    1003.0    0.0024448  50000.0        6.0  267.274  273.216  273.216  18.8578
 1203 │ 2019-02-17T00:00:00  0 hours   2019-02-17T00:00:00  mbr000  MEPS_prod  99090   66.0      2.0        0.1      8.0  271.694      2.7633  275.861  65.2038  1014.5    1014.5    0.002971   50000.0        8.0  269.994  275.861  275.861   4.3094
                                                                                                                                                                                                                                         1182 rows omitted</code></pre><p>Default is to read all columns to select only certain columns use </p><pre><code class="language-julia hljs">julia&gt; df = read_v(file,select=[:ID,:TT])</code></pre><div class="admonition is-info"><header class="admonition-header">Analysis files vs fc 00 files</header><div class="admonition-body"><p>Analysis dataframe has <code>leadtime==missing</code> forecast 00  <code>leadtime==Hour(0)</code> </p><p><code>read_v(&quot;vfldSPP_DPmbr0002022110100&quot;,select=[:ID,:TT])</code></p><pre><code class="nohighlight hljs">2083×7 DataFrame
  Row │ validtime            leadtime  basetime             mbr     exp     ID       TT      
      │ DateTime             Missing   DateTime             String  String  Int64    Float64 
──────┼──────────────────────────────────────────────────────────────────────────────────────
    1 │ 2022-11-01T00:00:00   missing  2022-11-01T00:00:00  mbr000  SPP_DP     1001  277.038
    2 │ 2022-11-01T00:00:00   missing  2022-11-01T00:00:00  mbr000  SPP_DP     1010  281.141
    3 │ 2022-11-01T00:00:00   missing  2022-11-01T00:00:00  mbr000  SPP_DP     1014  276.542
    4 │ 2022-11-01T00:00:00   missing  2022-11-01T00:00:00  mbr000  SPP_DP     1015  279.33</code></pre><p><code>read_v(&quot;vfldSPP_DPmbr000202211010000&quot;,select=[:ID,:TT])</code></p><pre><code class="nohighlight hljs">2083×7 DataFrame
  Row │ validtime            leadtime  basetime             mbr     exp     ID       TT      
      │ DateTime             Hour      DateTime             String  String  Int64    Float64 
──────┼──────────────────────────────────────────────────────────────────────────────────────
    1 │ 2022-11-01T00:00:00  0 hours   2022-11-01T00:00:00  mbr000  SPP_DP     1001  276.363
    2 │ 2022-11-01T00:00:00  0 hours   2022-11-01T00:00:00  mbr000  SPP_DP     1010  281.505
    3 │ 2022-11-01T00:00:00  0 hours   2022-11-01T00:00:00  mbr000  SPP_DP     1014  276.813
    4 │ 2022-11-01T00:00:00  0 hours   2022-11-01T00:00:00  mbr000  SPP_DP     1015  280.019</code></pre></div></div><h2 id="Multiple-files"><a class="docs-heading-anchor" href="#Multiple-files">Multiple files</a><a id="Multiple-files-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-files" title="Permalink"></a></h2><p>To read multiple files broadcast <code>read_v</code> over an array of files  </p><pre><code class="language-julia hljs">files = glob(&quot;vfld*&quot;,MEPS_prod)
dfs = read_v.(files)</code></pre><p>Use <code>reduce</code>  and <code>vcat</code> to vertically concatenate dataframes. </p><pre><code class="language-julia hljs">df = reduce(vcat, dfs)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../install/">« Install</a><a class="docs-footer-nextpage" href="../innerjoin/">Inner joins »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 28 August 2023 09:00">Monday 28 August 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
